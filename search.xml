<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Centos7安装MinIO</title>
      <link href="/2024/05/30/CentOS%207%20%E5%AE%89%E8%A3%85%20Minio/"/>
      <url>/2024/05/30/CentOS%207%20%E5%AE%89%E8%A3%85%20Minio/</url>
      
        <content type="html"><![CDATA[<h6 id="获取MinIO安装包"><a href="#获取MinIO安装包" class="headerlink" title="获取MinIO安装包"></a><strong>获取MinIO安装包</strong></h6><ul><li>下载地址如下：<a href="https://dl.min.io/server/minio/release/linux-amd64/archive/minio-20230809233022.0.0.x86_64.rpm">下载地址</a></li><li><p>通过以下命令可直接将安装包下载至服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.min.io/server/minio/release/linux-amd64/archive/minio-20230809233022.0.0.x86_64.rpm</span><br></pre></td></tr></table></figure><h6 id="安装MinIO"><a href="#安装MinIO" class="headerlink" title="安装MinIO"></a><strong>安装MinIO</strong></h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh minio-20230809233022.0.0.x86_64.rpm</span><br></pre></td></tr></table></figure><h6 id="集成Systemd"><a href="#集成Systemd" class="headerlink" title="集成Systemd"></a><strong>集成Systemd</strong></h6></li><li><p><strong>编写MinIO服务配置文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/systemd/system/minio.service</span><br></pre></td></tr></table></figure></li><li><p>内容如下，具体可参考MinIO <a href="https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-single-node-single-drive.html#create-the-systemd-service-file">官方文档</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=MinIO</span><br><span class="line">Documentation=https://min.io/docs/minio/linux/index.html</span><br><span class="line">Wants=network-online.target</span><br><span class="line">After=network-online.target</span><br><span class="line">AssertFileIsExecutable=/usr/local/bin/minio</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">WorkingDirectory=/usr/local</span><br><span class="line">ProtectProc=invisible</span><br><span class="line">EnvironmentFile=-/etc/default/minio</span><br><span class="line">ExecStartPre=/bin/bash -c &quot;if [ -z \&quot;$&#123;MINIO_VOLUMES&#125;\&quot; ]; then echo \&quot;Variable MINIO_VOLUMES not set in /etc/default/minio\&quot;; exit 1; fi&quot;</span><br><span class="line">ExecStart=/usr/local/bin/minio server $MINIO_OPTS $MINIO_VOLUMES</span><br><span class="line">Restart=always</span><br><span class="line">LimitNOFILE=65536</span><br><span class="line">TasksMax=infinity</span><br><span class="line">TimeoutStopSec=infinity</span><br><span class="line">SendSIGKILL=no</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><code>EnvironmentFile</code>，该文件中可配置MinIO服务所需的各项参数</p></li><li><code>ExecStart</code>，该参数用于配置MinIO服务的启动命令，其中<code>$MINIO_OPTS</code>、<code>$MINIO_VOLUMES</code>，均引用于<code>EnvironmentFile</code>中的变量。 <ul><li><code>MINIO_OPTS</code>用于配置MinIO服务的启动选项，可省略不配置。</li><li><code>MINIO_VOLUMES</code>用于配置MinIO服务的数据存储路径。</li></ul></li><li><code>Restart</code>，表示自动重启</li><li></li></ul><h6 id="编写EnvironmentFile文件"><a href="#编写EnvironmentFile文件" class="headerlink" title="编写EnvironmentFile文件"></a><strong>编写EnvironmentFile文件</strong></h6><ul><li><p>执行以下命令创建并打开/etc/default/minio文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/minio</span><br></pre></td></tr></table></figure></li><li><p>内容如下，具体可参考<a href="https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-single-node-single-drive.html#create-the-environment-variable-file">官方文档</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MINIO_ROOT_USER=minioadmin</span><br><span class="line">MINIO_ROOT_PASSWORD=minioadmin</span><br><span class="line">MINIO_VOLUMES=/data</span><br><span class="line">MINIO_OPTS=&quot;--console-address :9001&quot;</span><br></pre></td></tr></table></figure></li><li><p><code>MINIO_ROOT_USER</code>和<code>MINIO_ROOT_PASSWORD</code>为用于访问MinIO的用户名和密码，<strong>密码长度至少8位</strong>。 </p></li><li><code>MINIO_VOLUMES</code>用于指定数据存储路径，需确保指定的路径是存在的，可执行以下命令创建该路径。 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /data</span><br></pre></td></tr></table></figure><h6 id="启动MinIO"><a href="#启动MinIO" class="headerlink" title="启动MinIO"></a><strong>启动MinIO</strong></h6>执行以下命令启动MinIO<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start minio</span><br></pre></td></tr></table></figure>执行以下命令查询运行状态<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status minio</span><br></pre></td></tr></table></figure>设置MinIO开机自启<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> minio</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> DownLoad </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CentOS7安装Redis</title>
      <link href="/2024/05/30/CentOS%207%20%E5%AE%89%E8%A3%85%20Redis7/"/>
      <url>/2024/05/30/CentOS%207%20%E5%AE%89%E8%A3%85%20Redis7/</url>
      
        <content type="html"><![CDATA[<h6 id="gcc环境"><a href="#gcc环境" class="headerlink" title="gcc环境"></a>gcc环境</h6><ul><li><p>判断是否安装了gcc环境</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc --version</span><br></pre></td></tr></table></figure></li><li><p>如果GCC已安装，此命令将输出GCC的版本信息。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 system]# gcc --version</span><br><span class="line">gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44)</span><br><span class="line">Copyright © 2015 Free Software Foundation, Inc.</span><br><span class="line">本程序是自由软件；请参看源代码的版权声明。本软件没有任何担保；</span><br><span class="line">包括没有适销性和某一专用目的下的适用性担保。</span><br></pre></td></tr></table></figure></li><li><p>如果未安装，您将看到类似于“command not found”的信息</p></li><li><p>下载安装gcc环境</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure><h6 id="Redis安装"><a href="#Redis安装" class="headerlink" title="Redis安装"></a>Redis安装</h6></li><li><p>下载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.redis.io/releases/redis-7.2.0.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>解压redis-7.2.0.tar.gz文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf redis-7.2.0.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>进入redis安装目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd redis-7.2.0</span><br></pre></td></tr></table></figure></li><li><p>安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></li><li><p>进入/usr/local/bin/检查是否安装成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/bin/</span><br><span class="line">ll</span><br></pre></td></tr></table></figure></li><li><p>测试启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2024/png/35659086/1716903373554-225b59c1-9063-4258-a4a3-41b5a838c5e6.png#averageHue=%230d0c0a&amp;clientId=u9061476d-e285-4&amp;from=paste&amp;height=568&amp;id=ub8dad876&amp;originHeight=852&amp;originWidth=1463&amp;originalType=binary&amp;ratio=1.5&amp;rotation=0&amp;showTitle=false&amp;size=98163&amp;status=done&amp;style=none&amp;taskId=uc8df7eea-e9a8-4be8-b1df-a485f84b279&amp;title=&amp;width=975.3333333333334" alt="image.png"></p><h6 id="指定配置启动"><a href="#指定配置启动" class="headerlink" title="指定配置启动"></a>指定配置启动</h6></li><li><p>因为使用redis-server命令启动之后得要重新开一个窗口才能访问redis，所以以下是指定配置启动</p></li><li><p>先将redis的配置文件（redis.conf）备份，防止修改错误</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp redis.conf redis.conf.bak</span><br></pre></td></tr></table></figure></li><li><p>进入redis.conf</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi redis.conf</span><br></pre></td></tr></table></figure></li><li><p>修改内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">（1）bind 127.0.0.1 -::1  ---&gt;  bind 0.0.0.0</span><br><span class="line"></span><br><span class="line">（2）daemonize no ---&gt; daemonize yes</span><br><span class="line">//可改可不改</span><br><span class="line">（3）requirepass foobared注释去掉并在后加上密码（注意中间加个空格）</span><br><span class="line">  requirepass foobared ---&gt; requirepass redis</span><br><span class="line"></span><br><span class="line">（4）设置redis记录日志，默认不记录日志（redis.log为文件名）</span><br><span class="line">  logfile &quot; &quot; ---&gt; logfile &quot;redis.log&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>进入redis安装路径</p><ul><li><p>可以启动的时候不写redis.conf的全限定名称</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server redis.conf</span><br></pre></td></tr></table></figure></li><li><p>查看redis 是否运行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep redis</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2024/png/35659086/1716903636322-1aa942f8-f20d-4c13-9aa9-fb996e450a55.png#averageHue=%23100c0a&amp;clientId=u9061476d-e285-4&amp;from=paste&amp;height=56&amp;id=u6e1952a7&amp;originHeight=84&amp;originWidth=1027&amp;originalType=binary&amp;ratio=1.5&amp;rotation=0&amp;showTitle=false&amp;size=13543&amp;status=done&amp;style=none&amp;taskId=u58a8e375-ee64-4c92-bc80-b1923141f35&amp;title=&amp;width=684.6666666666666" alt="image.png"></p></li><li><p>停止服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 67859</span><br></pre></td></tr></table></figure><h6 id="开机自启"><a href="#开机自启" class="headerlink" title="开机自启"></a>开机自启</h6></li></ul></li><li><p>新建文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/redis.service</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>进入之后将以下信息复制进去：（注意ExecStart的内容为你们自己的redis.conf文件的路径）之后便保存退出。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=redis-server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-7.2.0/redis.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>退出之后要让文件生效</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure></li><li><p>然后重启redis</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start redis</span><br></pre></td></tr></table></figure></li><li><p>查看redis状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status redis</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2024/png/35659086/1716903901844-d9ee2418-63a6-4056-91db-9217f8a5a6fb.png#averageHue=%230b0908&amp;clientId=u9061476d-e285-4&amp;from=paste&amp;height=213&amp;id=u229df890&amp;originHeight=320&amp;originWidth=1426&amp;originalType=binary&amp;ratio=1.5&amp;rotation=0&amp;showTitle=false&amp;size=43617&amp;status=done&amp;style=none&amp;taskId=u58e0d989-9a3f-4d7d-b455-8ea9d3917d3&amp;title=&amp;width=950.6666666666666" alt="image.png"></p></li><li><p>停止服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop redis</span><br></pre></td></tr></table></figure></li><li><p>设置开机自启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable redis</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Redis常用命令</title>
      <link href="/2024/05/30/Redis%20%E5%B8%B8%E7%94%A8%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
      <url>/2024/05/30/Redis%20%E5%B8%B8%E7%94%A8%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h6 id="查看所有键"><a href="#查看所有键" class="headerlink" title="查看所有键"></a><strong>查看所有键</strong></h6><p>keys命令可用于查看所有键，语法如下<br>pattern用于匹配key，其中<em>表示任意个任意字符<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keys pattern</span><br></pre></td></tr></table></figure><br><strong>键总数</strong><br>dbsize可用于查看键的总数，语法如下<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbsize</span><br></pre></td></tr></table></figure><br><strong>判断键是否存在</strong><br>exists命令可用于判断一个键是否存在，语法如下<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exists key</span><br></pre></td></tr></table></figure><br><strong>删除键</strong><br>del可用于删除指定键，语法如下<br>返回值为删除键的个数，若删除一个不存在的键，则返回0。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del key [key ...]</span><br></pre></td></tr></table></figure><br><strong>查询键的剩余过期时间</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttl key</span><br></pre></td></tr></table></figure><br><strong>数据库管理命令</strong><br>Redis默认有编号为0~15的16个逻辑数据库，每个数据库之间的数据是相互独立的，所有连接默认使用的都是0号数据库。<br><em>*切换数据库</em></em><br>select命令可用于切换数据库，语法如下 </p><ul><li><p>若index超出范围，会报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select index</span><br></pre></td></tr></table></figure><p><strong>清空数据库</strong><br>flushdb命令会清空当前所选用的数据库，flushall命令会清空0~15号所有的数据库。</p><h6 id="string"><a href="#string" class="headerlink" title="string"></a>string</h6><p>Redis中的string类型保存的是字节序列（Sequence of bytes），因此任意类型的数据，只要经过序列化之后都可以保存到Redis的string类型中，包括文本、数字甚至是一个对象<br><strong>set</strong><br>set命令用于添加string类型的键值对，具体语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET key value [NX|XX] [EX seconds|PX milliseconds]</span><br></pre></td></tr></table></figure><p>各选项含义如下</p></li><li><p>NX：仅在key不存在时set</p></li><li>XX：仅在key存在时set</li><li>EX seconds：设置过期时间，单位为秒</li><li>PX milliseconds：设置过期时间，单位为毫秒</li></ul><p><strong>get</strong><br>get命令用于获取某个string类型的键对应的值，具体语法如下<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET key</span><br></pre></td></tr></table></figure><br><strong>incr</strong><br>incr命令用于对数值做自增操作，具体语法如下</p><ul><li>若key对应的value是整数，则返回自增后的结果，若不是整数则报错，若key不存在则创建并返回1。 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INCR key</span><br></pre></td></tr></table></figure><strong>decr</strong><br>decr命令用于对数值做自减操作，具体语法如下<br>若key对应的value是整数，则返回自减后的结果，若不是整数则报错，若key不存在则创建并返回-1。<br><strong>应用场景</strong><br>string类型常用于缓存、计数器等场景。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DECR key</span><br></pre></td></tr></table></figure><h6 id="list类型"><a href="#list类型" class="headerlink" title="list类型"></a>list类型</h6><strong>添加元素</strong><br>向列表中添加元素的命令有lpush、rpush 、linsert，各命令的功能与用法如下<br>lpush<br>该命令用于向list左侧添加元素，语法如下<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lpush key element [element ...]</span><br><span class="line">示例</span><br><span class="line">lpush l1 a b c</span><br></pre></td></tr></table></figure>rpush<br>该命令用于向list右侧添加元素，语法如下<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpush key element [element ...]</span><br></pre></td></tr></table></figure>linsert<br>该命令用于向list指定位置添加元素，语法如下<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">linsert key before|after pivot element</span><br><span class="line">示例</span><br><span class="line">linsert l1 after b new</span><br></pre></td></tr></table></figure><strong>查询元素</strong><br>查询list元素的命令有<code>lindex</code>和<code>lrange</code>，各命令的功能与用法如下</li></ul><ul><li><code>lindex</code><br>该命令用于获取指定索引位置的元素，语法如下 </li><li><p>index从左到右依次是0，1，2…，从右到左依次是-1，-2，-3…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lindex key index</span><br></pre></td></tr></table></figure><p>lrange<br>该命令用于获取指定范围内的元素列表，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lrange key start stop</span><br><span class="line">示例</span><br><span class="line">获取list全部元素，命令如下</span><br><span class="line">lrange l1 0 -1</span><br></pre></td></tr></table></figure><p><strong>素</strong><br>删除list元素的命令有lpop、rpop、lrem，各命令的功能与用法如下<br>lpop<br>该命令用于移除并返回list左侧元素，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpop key [count]</span><br></pre></td></tr></table></figure><p>rpop<br>该命令用于移除并返回list右侧的元素，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpop key [count]</span><br></pre></td></tr></table></figure><p>lrem<br>该命令用于移除list中的指定元素，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lrem key count element</span><br></pre></td></tr></table></figure><p>count参数表示要移除element元素的个数（list中可以存在多个相同的元素），count的用法</p></li><li><p>若count&gt;0，则从左到右删除最多count个element元素</p></li><li>若count&lt;0，则从右到左删除最多count（的绝对值）个element元素</li><li>若count=0，则删除所有的element元素</li></ul><p><strong>修改元素</strong><br>lset命令可用于修改指定索引位置的元素，语法如<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lset key index element</span><br></pre></td></tr></table></figure><br>llen命令可用于查看list长度，语法如下<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">llen key</span><br></pre></td></tr></table></figure></p><ul><li>社交应用中，可使用list缓存每个用户发布的最新的N条记录。</li><li><p>list可用作异步消息队列。</p><h6 id="set类型"><a href="#set类型" class="headerlink" title="set类型"></a>set类型</h6><p><strong>add</strong><br>该命令用于向set中添加元素，语法如下</p></li><li><p><strong>smembers</strong><br>该命令用于查询set中的全部元素，语法如下 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smembers key</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>srem</strong><br>该命令用于移除set中的指定元素，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">srem key member [member ...]</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>spop</strong><br>该命令随机移除并返回set中的n个元素，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spop key [count]</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>srandmember</strong><br>该命令随机返回set中的n个元素（不删除），语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">srandmember key [count]</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>scard</strong>（Cardinality，基数）<br>该命令用于查询set中的元素个数，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scard key</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>sismember</strong><br>该命令用于元素是否在set中，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sismember key element</span><br></pre></td></tr></table></figure></li></ul><ul><li><p><strong>sismember</strong><br>该命令用于元素是否在set中，语法如下 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sismember key element</span><br><span class="line">``</span><br></pre></td></tr></table></figure><p><strong>sinter</strong><br>该命令用于计算多个集合的交集，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sinter key [key ...]</span><br></pre></td></tr></table></figure><p><strong>sunion</strong><br>该命令用于计算多个集合的并集，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sunion key [key ...]</span><br></pre></td></tr></table></figure><p><strong>sdiff</strong><br>该命令用于计算多个集合的差集，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdiff key [key ...]</span><br></pre></td></tr></table></figure><p>set可用于计算共同关注好友，随机抽奖系统等等。</p><h6 id="hash类型"><a href="#hash类型" class="headerlink" title="hash类型"></a>hash类型</h6><p>hash类型类似于Java语言中的HashMap，可用于存储键值对。<br><strong>hset</strong><br>该命令用于向hash中增加键值对，语法如下<br><strong>hset</strong><br>该命令用于向hash中增加键值对，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hset key field value [field value ...]</span><br></pre></td></tr></table></figure><p><strong>hget</strong><br>该命令用于获取hash中某个键对应的值，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hget key field</span><br></pre></td></tr></table></figure><p><strong>hdel</strong><br>该命令用于删除hash中的指定的键值对，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdel key field [field ...]</span><br></pre></td></tr></table></figure><p><strong>hlen</strong><br>该命令用于查询hash中的键值对个数，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hlen key</span><br></pre></td></tr></table></figure><p><strong>hexists</strong><br>该命令用于判断hash中的某个键是否存在，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexists key field</span><br></pre></td></tr></table></figure><p><strong>hkeys</strong><br>该命令用于返回hash中所有的键，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hkeys key</span><br></pre></td></tr></table></figure><p><strong>hvals</strong><br>该命令用于返回hash中所有的值，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hvals key</span><br></pre></td></tr></table></figure><p><strong>hgetall</strong><br>该命令用于返回hash中所有的键与值，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hgetall key</span><br></pre></td></tr></table></figure><p>hash类型可用于缓存对象等。</p><h6 id="zset类型"><a href="#zset类型" class="headerlink" title="zset类型"></a>zset类型</h6><p>zset（sorted set）被称为有序集合，同set相似，zset中也不会包含相同元素，但不同的是，zset中的元素是有序的。并且zset中的元素并非像list一样按照元素的插入顺序排序，而是按照每个元素的分数（score）排序。<br><strong>zadd</strong><br>该命令用于向zset中添加元素，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZADD key [NX|XX] score member</span><br></pre></td></tr></table></figure><p><strong>zcard</strong><br>该命令用于计算zset中的元素个数，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcard key</span><br></pre></td></tr></table></figure><p><strong>zscore</strong><br>改名用于查看某个元素的分数，语法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zscore key member</span><br></pre></td></tr></table></figure></li><li><p><strong>zrank/zrevrank</strong><br>这组命令用于计算元素的排名，其中zrank按照score的升序排序，zrevrank则按照降序排序，语法如下 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrank/zrevrank key member</span><br></pre></td></tr></table></figure></li></ul><p><strong>说明：</strong>名次从0开始。 </p><ul><li><strong>zrem</strong><br>该命令用于删除元素，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrem key member [member ...]</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>zincrby</strong><br>该命令用于增加元素的分数，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zincrby key increment member</span><br></pre></td></tr></table></figure></li></ul><ul><li><strong>zrange</strong><br>该命令用于查询指定区间范围的元素，语法如下 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrange key start stop [byscore] [rev] [limit offset count] [withscores]</span><br></pre></td></tr></table></figure></li></ul><p><strong>说明：</strong> </p><ul><li>start/stop：用于指定查询区间，但是在不同模式下，其代表的含义也不相同 <ul><li>默认模式下，<code>start~stop</code>表示的是名次区间，且该区间为闭区间。名次从0开始，且可为负数，-1表示倒数第一，-2表示倒数第二，以此类推。</li><li>byscore模式下（声明了byscore参数），则<code>start~stop</code>表示的就是分数区间，该区间默认仍为闭区间。在该模式下，可以在<code>start</code>或<code>stop</code>前增加<code>(</code>来表示开区间，例如<code>(1 (5</code>，表示的就是<code>(1,5)</code>这个开区间。除此之外，还可以使用<code>-inf</code>和<code>+inf</code>表示负无穷和正无穷。</li></ul></li><li>byscore：用于切换到分数模式</li><li>rev：表示降序排序。在byscore模式下使用rev参数需要注意查询区间，start应大于stop。</li><li>limit：该选项只用于byscore模式，作用和sql语句中的limit一致</li><li>withscores：用于打印分数</li></ul>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>234</title>
      <link href="/2024/03/30/234/"/>
      <url>/2024/03/30/234/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="7f42203add4af0d2dc363cd6ba55b3961f280ded68c2ba1ec32cb162dca1c30f">472f0d2124ee617a2f29ff331422d5d36e3ddfaf7282caa5f0c8a44ee3968610</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-blink">      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="您好, 这里需要密码.">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 作为日记加密 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/03/23/hello-world/"/>
      <url>/2024/03/23/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello</title>
      <link href="/2024/03/19/Hello/"/>
      <url>/2024/03/19/Hello/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> 外挂标签 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello</title>
      <link href="/2024/03/19/Hi/"/>
      <url>/2024/03/19/Hi/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
